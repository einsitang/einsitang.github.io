<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>About Me</title>
    <url>/2022/06/15/aboutme/</url>
    <content><![CDATA[<h2 id="Hey-👋-I’m-EinsiTang"><a href="#Hey-👋-I’m-EinsiTang" class="headerlink" title="Hey 👋, I’m EinsiTang"></a>Hey 👋, I’m EinsiTang</h2><p><img lazyload="" src="/images/loading.svg" data-src="/images/gifs/hello.gif" alt="Hello"></p>
<h3 id="Glad-to-see-you-here"><a href="#Glad-to-see-you-here" class="headerlink" title="Glad to see you here!"></a>Glad to see you here!</h3><blockquote>
<p>I’m a software enginner from China , love develop software and life for it , opensource contributor coding with <strong>java</strong> / <strong>nodejs</strong> and <strong>go</strong> .</p>
<p>I have ten years of develop and architecture experience , for now working at home .</p>
<p>you can contact me with <a class="link" href="https://github.com/einsitang">github<i class="fas fa-external-link-alt"></i></a> or mail <a class="link" href="mailto:my-tangjianbin@163.com">me<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<img align="right" height="250" width="375" alt="" lazyload="" src="/images/loading.svg" data-src="/images/gifs/coder.gif">
<br>


<h3 id="Languages-and-Tools"><a href="#Languages-and-Tools" class="headerlink" title="Languages and Tools:"></a>Languages and Tools:</h3><div class="language-and-tools">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/java/java.png" alt="java">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/spring/spring.png" alt="spring">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/javascript/javascript.png" alt="javascript">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/nodejs/nodejs.png" alt="nodejs">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/koa/koa.png" alt="koa">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/dart/dart.png" alt="dart">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/flutter/flutter.png" alt="flutter">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/sql/sql.png" alt="sql">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/mongodb/mongodb.png" alt="mongodb">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/redis/redis.png" alt="redis">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/elasticsearch/elasticsearch.png" alt="es">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/git/git.png" alt="git">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/terminal/terminal.png" alt="terminal">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/go/go.png" alt="go">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/intellij-idea/intellij-idea.png" alt="idea">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/visual-studio-code/visual-studio-code.png" alt="VSCode">
    <img height="27" align="left" lazyload="" src="/images/loading.svg" data-src="https://raw.githubusercontent.com/github/explore/main/topics/macos/macos.png" alt="macos">
</div>
<br>

<h3 id="Dev-Stuffs-and-Projects"><a href="#Dev-Stuffs-and-Projects" class="headerlink" title="Dev Stuffs and Projects:"></a>Dev Stuffs and Projects:</h3><details open="">	
  <br>
  <summary><b>⚙️ Things I use to get stuff done</b></summary>
      <ul>
        <li><b>OS:</b> Macos </li>
        <li><b>Laptop: </b> Macbook Pro</li>
        <li><b>Browser: </b> Chrome / Safari</li>
        <li><b>Terminal: </b> ZSH: Oh My Zsh </li>
        <li><b>Code Editor:</b> VSCode / IDEA</li>
        <li><b>Blog:</b> einsitang.github.io </li>
    </ul>	
</details>

<details open="">
  <summary><b>🧑‍🚀 Open Source Projects</b></summary>

  <br>
  <table>
    <thead align="center">
      <tr border:="" none;="">
        <td><b>💻 Projects</b></td>
        <td><b>🌟 Stars</b></td>
        <td><b>🍴 Forks</b></td>
        <td><b>🐛 Issues</b></td>
        <td><b>🔔 Pull Requests</b></td>
        <td><b>👨‍💻 Language</b></td>
      </tr>
    </thead>
    <tbody>
      <tr>
          <td><a href="https://github.com/Wechat-Group/WxJava"><b>🚀 WxJava</b></a></td>
        <td><img alt="Stars" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/stars/Wechat-Group/WxJava?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Forks" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/forks/Wechat-Group/WxJava?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Issues" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues/Wechat-Group/WxJava?style=flat-square"></td>
        <td><img alt="Pull Requests" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues-pr/Wechat-Group/WxJava?style=flat-square"></td>
        <td><img alt="Language" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/languages/top/Wechat-Group/WxJava?style=flat-square"></td>
      </tr>
      <tr>
          <td><a href="https://github.com/apache/rocketmq-spring"><b>🚀 rocketmq-spring</b></a></td>
        <td><img alt="Stars" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/stars/apache/rocketmq-spring?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Forks" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/forks/apache/rocketmq-spring?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Issues" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues/apache/rocketmq-spring?style=flat-square"></td>
        <td><img alt="Pull Requests" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues-pr/apache/rocketmq-spring?style=flat-square"></td>
        <td><img alt="Language" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/languages/top/apache/rocketmq-spring?label=javascript&amp;style=flat-square"></td>
      </tr>
      <tr>
          <td><a href="https://github.com/einsitang/rain"><b>🚀 rain-project</b></a></td>
        <td><img alt="Stars" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/stars/einsitang/rain?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Forks" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/forks/einsitang/rain?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Issues" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues/einsitang/rain?style=flat-square"></td>
        <td><img alt="Pull Requests" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues-pr/einsitang/rain?style=flat-square"></td>
        <td><img alt="Language" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/languages/top/einsitang/rain?style=flat-square"></td> 
      </tr>
      <tr>
          <td><a href="https://github.com/einsitang/sudoku-go"><b>🚀 sudoku-go</b></a></td>
        <td><img alt="Stars" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/stars/einsitang/sudoku-go?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Forks" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/forks/einsitang/sudoku-go?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Issues" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues/einsitang/sudoku-go?style=flat-square"></td>
        <td><img alt="Pull Requests" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues-pr/einsitang/sudoku-go?style=flat-square"></td>
        <td><img alt="Language" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/languages/top/einsitang/sudoku-go?style=flat-square"></td> 
      </tr>
      <tr>
          <td><a href="https://github.com/einsitang/sudoku-nodejs"><b>🚀 sudoku-nodejs</b></a></td>
        <td><img alt="Stars" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/stars/einsitang/sudoku-nodejs?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Forks" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/forks/einsitang/sudoku-nodejs?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Issues" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues/einsitang/sudoku-nodejs?style=flat-square"></td>
        <td><img alt="Pull Requests" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues-pr/einsitang/sudoku-nodejs?style=flat-square"></td>
        <td><img alt="Language" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/languages/top/einsitang/sudoku-nodejs?style=flat-square"></td> 
      </tr>
      <tr>
          <td><a href="https://github.com/einsitang/sudoku-dart"><b>🚀 sudoku-dart</b></a></td>
        <td><img alt="Stars" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/stars/einsitang/sudoku-dart?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Forks" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/forks/einsitang/sudoku-dart?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Issues" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues/einsitang/sudoku-dart?style=flat-square"></td>
        <td><img alt="Pull Requests" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues-pr/einsitang/sudoku-dart?style=flat-square"></td>
        <td><img alt="Language" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/languages/top/einsitang/sudoku-dart?style=flat-square"></td> 
      </tr>
      <tr>
          <td><a href="https://github.com/einsitang/sudoku-flutter"><b>🚀 sudoku-flutter</b></a></td>
        <td><img alt="Stars" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/stars/einsitang/sudoku-flutter?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Forks" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/forks/einsitang/sudoku-flutter?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Issues" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues/einsitang/sudoku-flutter?style=flat-square"></td>
        <td><img alt="Pull Requests" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues-pr/einsitang/sudoku-flutter?style=flat-square"></td>
        <td><img alt="Language" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/languages/top/einsitang/sudoku-flutter?style=flat-square"></td> 
      </tr>
      <tr>
          <td><a href="https://github.com/einsitang/einsitang"><b>🤓 einsitang</b></a></td>
        <td><img alt="Stars" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/stars/einsitang/einsitang?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Forks" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/forks/einsitang/einsitang?style=flat-square&amp;labelColor=343b41"></td>
        <td><img alt="Issues" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues/einsitang/einsitang?style=flat-square"></td>
        <td><img alt="Pull Requests" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/github/issues-pr/einsitang/einsitang?style=flat-square"></td>
        <td><img alt="Language" lazyload="" src="/images/loading.svg" data-src="https://img.shields.io/badge/markdown-100%25-blue?style=flat-square"></td> 
      </tr>
    </tbody>
  </table>
  <br>
</details>

<details>	
  <summary><b>⚡ Github Stats</b></summary>

  <br>
  <img height="180em" lazyload="" src="/images/loading.svg" data-src="https://github-readme-stats.vercel.app/api?username=einsitang&amp;show_icons=true&amp;hide_border=true&amp;&amp;count_private=true&amp;include_all_commits=true">
  <img height="180em" lazyload="" src="/images/loading.svg" data-src="https://github-readme-stats.vercel.app/api/top-langs/?username=einsitang&amp;exclude_repo=KNN-Image-Classification&amp;show_icons=true&amp;hide_border=true&amp;layout=compact&amp;langs_count=8">
</details>

<details>	
  <summary><b>☄️ Github Streaks</b></summary>

  <br>
  <img height="180em" lazyload="" src="/images/loading.svg" data-src="https://github-readme-streak-stats.herokuapp.com/?user=einsitang&amp;hide_border=true">
</details>

<p><img lazyload="" src="/images/loading.svg" data-src="/images/gifs/bars.gif"></p>
<div align="center">

<h3 id="Show-some-❤️-by-starring-some-of-the-repositories"><a href="#Show-some-❤️-by-starring-some-of-the-repositories" class="headerlink" title="Show some ❤️ by starring some of the repositories!"></a>Show some ❤️ by starring some of the repositories!</h3></div>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>about</tag>
      </tags>
  </entry>
  <entry>
    <title>Sudoku</title>
    <url>/2022/06/16/sudoku/</url>
    <content><![CDATA[<h1 id="数独"><a href="#数独" class="headerlink" title="数独"></a>数独</h1><blockquote>
<p><em>数独</em> 是一种数学逻辑游戏，游戏由9×9个格子组成。<br>由9个3×3个的九宫格组成。<br>每一列的数字均须包含 1～9，不能缺少，也不能重复。<br>每一宫 3*3 的九宫格)的数字均须包含 1～9，不能缺少，也不能重复。</p>
</blockquote>
<h2 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h2><p>数独可以锻炼逻辑思维能力，在计算数独时也可以帮助玩家提升注意力（类比<code>舒尔特表</code>）</p>
<h2 id="开发"><a href="#开发" class="headerlink" title="开发"></a>开发</h2><blockquote>
<p>如何通过编写程序的方式，创作一个属于自己的数独应用🚀 ?</p>
</blockquote>
<h3 id="功能设计"><a href="#功能设计" class="headerlink" title="功能设计"></a>功能设计</h3><h4 id="计算器-解决puzzle"><a href="#计算器-解决puzzle" class="headerlink" title="计算器 - 解决puzzle"></a>计算器 - 解决puzzle</h4><p>所需算法:</p>
<ul>
<li>回溯</li>
<li>洗牌</li>
</ul>
<h4 id="生成器-生成puzzle"><a href="#生成器-生成puzzle" class="headerlink" title="生成器 - 生成puzzle"></a>生成器 - 生成puzzle</h4><p>所需算法:</p>
<ul>
<li>数独计算器</li>
<li>(按规则随机)随机挖洞</li>
<li>每次挖洞都要进行深度遍历计算验证(不再是回溯)，并且考虑是否唯一解</li>
</ul>
<h4 id="交互界面-可人机交互的产品"><a href="#交互界面-可人机交互的产品" class="headerlink" title="交互界面 - 可人机交互的产品"></a>交互界面 - 可人机交互的产品</h4><h3 id="开源实现"><a href="#开源实现" class="headerlink" title="开源实现"></a>开源实现</h3><h4 id="Lib"><a href="#Lib" class="headerlink" title="Lib"></a>Lib</h4><ul>
<li>sudoku-nodejs [ <a class="link" href="https://github.com/einsitang/sudoku-nodejs">github<i class="fas fa-external-link-alt"></i></a>  ]</li>
<li>sudoku-dart [ <a class="link" href="https://github.com/einsitang/sudoku-dart">github<i class="fas fa-external-link-alt"></i></a> ]</li>
<li>sudoku-go [<a class="link" href="https://github.com/einsitang/sudoku-go">github<i class="fas fa-external-link-alt"></i></a> ]</li>
</ul>
<h4 id="App"><a href="#App" class="headerlink" title="App"></a>App</h4><ul>
<li>sudoku-flutter [ <a class="link" href="https://github.com/einsitang/sudoku-flutter">github<i class="fas fa-external-link-alt"></i></a> | <a class="link" href="https://github.com/forfuns/sudoku-flutter/releases/download/beta-202008310040/app-release.apk">apk<i class="fas fa-external-link-alt"></i></a> ]</li>
</ul>
<h2 id="知乎相关回答"><a href="#知乎相关回答" class="headerlink" title="知乎相关回答"></a>知乎相关回答</h2><ul>
<li><a class="link" href="https://www.zhihu.com/question/280012560/answer/2531334365">如何做一个解任意数独的程序？ - 爱因斯 唐的回答 - 知乎<i class="fas fa-external-link-alt"></i></a></li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>sudoku</tag>
        <tag>app</tag>
      </tags>
  </entry>
  <entry>
    <title>Proof Of Work 算法</title>
    <url>/2023/06/03/proof-of-work/</url>
    <content><![CDATA[<h1 id="Proof-Of-Work-算法"><a href="#Proof-Of-Work-算法" class="headerlink" title="Proof Of Work 算法"></a>Proof Of Work 算法</h1><p><strong>工作量证明</strong>(proof-of-work),概念最早由Cynthia Dwork和Moni Naor于1993年的学术论文提出,主要用于防止/阻断对服务滥用行为的一种算法对策,早期广泛应用在电子邮件服务上,对抗网络上大部分的垃圾邮件,现在是区块链加密货币共识机制之一</p>
<p>其算法主要原理是提出一个问题且需要通过复杂的计算(穷举)才可以得出答案(极可能是多个),而服务方可以简单且快速运算验证</p>
<p>假设现在服务方提供一个接口，但希望对客户方(请求方)进行一定的频率约束，从而降低接口滥用和资源成本，我们可以设计一种算法，以当前时间为题目，计算出一个字符串，使得其Hash值(假设使用MD5)包含时间戳部分截取信息,并且可以通过对时间戳和服务器当前时间进行校验,偏离过大则拒绝</p>
<h2 id="原理过程"><a href="#原理过程" class="headerlink" title="原理过程"></a>原理过程</h2><p>得出一个<code>timestamp</code>:1685808827832</p>
<p>对其后 6 位进行截取得出 827832 , 且进行十六进制处理得出 ca1b8</p>
<p>之后随机出一个值字符串 <code>randomStr</code></p>
<figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// JS 代码</span></span><br><span class="line"><span class="keyword">let</span> randomStr = <span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>(<span class="number">36</span>).<span class="title function_">substr</span>(<span class="number">3</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>使得 <code>md5(randomStr)</code>的值包含 <code>ca1b8</code> 则代表验证成功</p>
<figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// JS 代码</span></span><br><span class="line"><span class="keyword">let</span> timestampCut = timestamp.<span class="title function_">toString</span>().<span class="title function_">substr</span>(-<span class="number">6</span>).<span class="title function_">toString</span>(<span class="number">16</span>) <span class="comment">// ca1b8</span></span><br><span class="line"><span class="title function_">md5</span>(randomStr).<span class="title function_">indexOf</span>(timestampCut) != -<span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="完整代码-pow-js"><a href="#完整代码-pow-js" class="headerlink" title="完整代码 pow.js"></a>完整代码 pow.js</h2><figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// 使用前先安装 md5 模块 : npm install md5</span></span><br><span class="line"><span class="keyword">const</span> md5 = <span class="built_in">require</span>(<span class="string">"md5"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 时间戳截取长度 , 从后向前截取</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">LENGTH</span> = <span class="number">6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// check proof of work data</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">checkPow</span> = (<span class="params">randomTxt, timestamp</span>) =&gt; {</span><br><span class="line">    <span class="keyword">let</span> [numStr] = <span class="title function_">getTimeState</span>(timestamp)</span><br><span class="line">    <span class="keyword">let</span> randMd5Str = <span class="title function_">md5</span>(randomTxt)</span><br><span class="line">    <span class="keyword">return</span> randMd5Str.<span class="title function_">indexOf</span>(numStr) != -<span class="number">1</span></span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取 [截取字符串,时间戳]</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> {<span class="type">long</span>} fixedTimestamp 固定时间戳，可选，如果设置了则 numStr 以该时间戳截取</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> [numStr,timestamp]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getTimeState</span> = (<span class="params">fixedTimestamp</span>) =&gt; {</span><br><span class="line">    <span class="keyword">let</span> timestamp = !!fixedTimestamp ? fixedTimestamp : <span class="keyword">new</span> <span class="title class_">Date</span>().<span class="title function_">getTime</span>()</span><br><span class="line">    <span class="keyword">if</span>(timestamp &gt;&gt;&gt; <span class="number">38</span> &lt; <span class="number">0</span>){</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`<span class="subst">${timestamp}</span> is don't look like timestamp type`</span>)</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">let</span> timestampStr = timestamp.<span class="title function_">toString</span>()</span><br><span class="line">    <span class="keyword">let</span> cutTimestampStr = timestampStr.<span class="title function_">substr</span>(-<span class="variable constant_">LENGTH</span>)</span><br><span class="line">    <span class="keyword">let</span> num = <span class="title class_">Number</span>.<span class="built_in">parseInt</span>(cutTimestampStr)</span><br><span class="line">    <span class="keyword">let</span> numStr = num.<span class="title function_">toString</span>(<span class="number">16</span>)</span><br><span class="line">    <span class="keyword">return</span> [numStr, timestamp]</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * generate proof of work data</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">pow</span> = (<span class="params"></span>) =&gt; {</span><br><span class="line">    <span class="keyword">let</span> [numStr, timestamp] = <span class="title function_">getTimeState</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> md5Str = <span class="string">""</span></span><br><span class="line">    <span class="keyword">let</span> count = <span class="number">0</span>, maxCount = <span class="number">2000</span></span><br><span class="line">    <span class="keyword">let</span> randomStr</span><br><span class="line">    <span class="keyword">while</span> (md5Str.<span class="title function_">indexOf</span>(numStr) == -<span class="number">1</span>) {</span><br><span class="line">        randomStr = <span class="title class_">Math</span>.<span class="title function_">random</span>().<span class="title function_">toString</span>(<span class="number">36</span>).<span class="title function_">substr</span>(<span class="number">3</span>)</span><br><span class="line">        md5Str = <span class="title function_">md5</span>(randomStr)</span><br><span class="line">        <span class="keyword">if</span> (count++ &gt; maxCount) {</span><br><span class="line">            [numStr, timestamp] = <span class="title function_">getTimeState</span>()</span><br><span class="line">            count = <span class="number">0</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [randomStr, timestamp]</span><br><span class="line"></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">'exhaustive'</span>)</span><br><span class="line"><span class="keyword">let</span> [randomStr, timestamp] = <span class="title function_">pow</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">'exhaustive'</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`randomStr : <span class="subst">${randomStr}</span> hash(randomStr)=&gt; <span class="subst">${md5(randomStr)}</span> , timestamp : <span class="subst">${timestamp}</span> `</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">time</span>(<span class="string">'check'</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`pow checkout : <span class="subst">${checkPow(randomStr, timestamp)}</span>`</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">timeEnd</span>(<span class="string">'check'</span>)</span><br></pre></td></tr></tbody></table></figure>

<p><a class="link" href="https://gist.github.com/einsitang/7605abd76e1f723f7a0ea1ae4c3ca411">gist<i class="fas fa-external-link-alt"></i></a></p>
<p>穷举的平均时间大概 100 ms , 而验证仅需 0.1 ms</p>
<h2 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h2><p>因为<strong>工作量证明</strong>是通过无效运算占用CPU时间,这种机制应该应用在客户端上,且也需要平衡实际的用户体验（用户设备,业务操作时长等等）</p>
<p>并且该方法 <strong>无法有效阻止</strong> 像请求回放、恶意触发 等行为，在规模严重的场景下还是需要搭配其他方案（服务器记录请求/调用信息、风控检查等等）</p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>摆脱Spring框架独立实现Java类扫描器</title>
    <url>/2023/06/11/rain-project/</url>
    <content><![CDATA[<h1 id="Rain-Project"><a href="#Rain-Project" class="headerlink" title="Rain-Project"></a>Rain-Project</h1><p>我在给我自己先挖个坑，等有空回来补全</p>
<p>基础的功能已经完成，感兴趣可以关注 <a class="link" href="https://github.com/einsitang/rain">Rain-Project<i class="fas fa-external-link-alt"></i></a></p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
      <tags>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>changelog</title>
    <url>/changelog/index.html</url>
    <content><![CDATA[<ul>
<li>2022.06.24<ul>
<li>添加ICP备案(是中国合法网站了<span class="github-emoji"><span>😃</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f603.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>)</li>
</ul>
</li>
<li>2022.06.17<ul>
<li>支持脑图</li>
<li>支持 github emoji</li>
<li>文章中文转拼音特性</li>
</ul>
</li>
<li>2022.06.16<ul>
<li>修正静态资源文件</li>
</ul>
</li>
<li>2022.06.15<ul>
<li>增加全文搜索支持</li>
<li>项目搭建</li>
</ul>
</li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
  </entry>
  <entry>
    <title>tags</title>
    <url>/tags/index.html</url>
    <content><![CDATA[<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">]]></content>
  </entry>
</search>
